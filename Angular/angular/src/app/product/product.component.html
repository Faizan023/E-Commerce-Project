<form [formGroup]="productPage">
  <section class="py-5">
    <div class="container">
      <div class="row gx-5">
        <aside class="col-lg-6">
          <div class="border rounded-4 mb-3 d-flex justify-content-center">
            <img *ngIf="product.img" style="max-width: 100%; max-height: 100vh; margin: auto; height: 400px;"
              class="rounded-4 fit" [src]="'data:image/png;base64,'+product.img" />
          </div>
          <div class="d-flex justify-content-center mb-3">
          </div>
        </aside>
        <main class="col-lg-6">
          <div class="ps-lg-3">
            <h4 class="title text-dark">
              {{product.name}}
            </h4>
            <div class="d-flex flex-row my-3">
              <div class="text-warning mb-1 me-2">
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="fa fa-star"></i>
                <i class="fas fa-star-half-alt"></i>
                <span class="ms-1">
                  4.5
                </span>
              </div>
              <span class="text-muted"><i class="fas fa-shopping-basket fa-sm mx-1"></i>{{product.quantity}}
                orders</span>
              <span class="text-success ms-2">In stock</span>
            </div>
            <hr>
            <div class="mb-3">
              <h4 style="color: red;font-weight: 300;font-size: 20px;" *ngIf="product.discount > 0">
                -{{product.discount}}% Off</h4>
              <span class="h5" style="color: gray;"> ₹{{product.price -
                product.price/100 * product.discount | number}}</span>

              <p style="color: gray; font-size: 13px;" *ngIf="product.discount > 0">M.R.P.:<span
                  style="text-decoration: line-through;">₹{{product.price | number}}</span>
              </p>
              Inclusive of all taxes
            </div>
            <!-- sales service -->
            <div style="display: inline-block;">
              <div class="service-card">
                <li class="service-list"> <img
                    src="https://m.media-amazon.com/images/G/31/A2I-Convert/mobile/IconFarm/trust_icon_free_shipping_81px._CB630870460_.png"
                    class="service-icon">
                </li>
                <li class="service-list"> <span class="service-font">Free
                    Delivery</span></li>
              </div>
              <div class="service-card">
                <li class="service-list"> <img
                    src="https://m.media-amazon.com/images/G/31/A2I-Convert/mobile/IconFarm/icon-cod._CB485937110_.png"
                    class="service-icon"> </li>
                <li class="service-list"> <span class="service-font">Cash on Delivery</span></li>
              </div>
              <div class="service-card">
                <li class="service-list"> <img
                    src="https://m.media-amazon.com/images/G/31/A2I-Convert/mobile/IconFarm/icon-returns._CB484059092_.png"
                    class="service-icon" alt="7 days Replacement">
                </li>
                <li class="service-list"> <span class="service-font">Replacement</span></li>
              </div>
              <div class="service-card">
                <li class="service-list"> <img
                    src="https://m.media-amazon.com/images/G/31/A2I-Convert/mobile/IconFarm/icon-warranty._CB485935626_.png"
                    class="service-icon" alt="7 days Replacement">
                </li>
                <li class="service-list"> <span class="service-font">Warranty</span></li>
              </div>
            </div>
            <!-- sales service End-->
            <hr>
            <div class="row">
              <dt class="col-3">Brand</dt>
              <dd class="col-9">{{product.brandName}}</dd>
              <dt class="col-3">Color</dt>
              <dd class="col-9">{{product.color}}</dd>
              <dt class="col-3">{{product.measurment}}</dt>
              <dd class="col-9">{{product.mesurmentValue}}</dd>
            </div>
            <hr>
            <h6><b>About this item:</b></h6>
            <p>
              {{product.description}}
            </p>
            <div class="row mb-4">
              <div class="col-md-4 col-6 mb-3">
                <label class="mb-2 d-block">Qty:</label>

                <div class="input-group mb-3" style="width: 50px;">
                  <select class="form-control text-center" formControlName="quantity">
                    <option value="1" selected>1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5"> 5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                  </select>
                </div>
              </div>
            </div>
            <a class="btn btn-warning shadow-0" (click)="billingFormIsOpen = true"> Buy now </a>
            <a class="btn btn-primary shadow-0" (click)="AddtoCart()" style="margin-left: 10px;"> <i
                class="me-1 fa fa-shopping-basket"></i> Add to
              cart </a>
          </div>
        </main>
      </div>
    </div>
  </section>
</form>
<!-- similarProduct -->
<!-- <section>
  <div class="row" style="padding: 20px;" *ngFor="let product of similarProduct">
    <div class=" col-md-6 col-sm-6 d-flex" *ngIf="productId != product.id" style=" height: 500px; width: 20%;">
      <a style="height: 360px;" (click)="getProduct(product.id)">
        <div class="card w-100 my-2 shadow-2-strong" style="height: 450px;width: 300px; padding: 10px;">
          <img [src]="'data:image/png;base64,'+product.img" class="card-img-top" style="aspect-ratio: 1 / 1; ;
                     object-fit: contain; background-color: whitesmoke;color: whitesmoke; height: 240px;" />
          <div class="card-body d-flex flex-column">
            <h5 class="card-title" style="overflow: hidden;">{{product.name}}</h5>
            <h4 style="color: red;font-weight: 300;font-size: 20px; " *ngIf="product.discount > 0">
              -{{product.discount}}% Off</h4>
            <span class="h5" style="color: gray;"> ₹{{product.price -
              product.price/100 * product.discount | number}}</span>
            <p style="color: gray; font-size: 13px;" *ngIf="product.discount > 0">M.R.P.:<span
                style="text-decoration: line-through;">₹{{product.price | number}}</span>
            </p>
          </div>
        </div>
      </a>
    </div>
  </div>
</section> -->

<section class="fashion-sections">
  <div class="row-fashion" *ngFor="let fashion of similarProduct">
    <div class="col-12 col-md-6" style="width: 20%; padding-bottom: 20px;" *ngIf="productId != fashion.id">
      <div class="card shadow zoomimg product-content" style="width: 230px;">
        <!-- <div class="card " style="height: 250px;width: 230px;"> -->
        <img [src]="'data:image/png;base64,'+fashion.img" alt="apple watch" style="background-color: white;aspect-ratio: 1 / 1; 
                      object-fit: contain; height: 300px;" class="card-img-top">
        <div class="product-content-list">
          <li class="buynow">
            <button class="button-icons"><i class="bx bx-cart icons-list-icon" style=" margin-left: 0px;"></i></button>
            <div class="tooltipdiv"><span>Buy Now</span></div>
          </li>

          <li class="buynow"><button class="button-icons"><i class='bx bx-heart icons-list-icon-cart icons-list-icon'></i></button>
            <div class="tooltipdiv"><span>Add to Cart</span></div>
          </li>
          <li class="buynow"><button (click)="getProduct(fashion.id)" class="button-icons"><i class="bx bx-show icons-list-icon "></i>
            </button>
            <div class="tooltipdiv"><span>View</span></div>
          </li>
        </div>
        <div class="card-footer bg-gray-200 border-top border-gray-300 p-4">
          <a (click)="getProduct(fashion.id)" class="h5 a"
            style="font-size: medium;font-family: var(--tp-ff-roboto); cursor: pointer;">{{fashion.name}}</a>
          <div class="text-warning mb-1 me-2" style="font-size: 12px;">
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fa fa-star"></i>
            <i class="fas fa-star-half-alt"></i>
            <span class="ms-1">
              4.5
            </span>
          </div>
          <!-- <div class="mt-2">₹{{fashion.price | number}}</div> -->
          <div style="color: gray; font-size: 13px; display: inline;" *ngIf="fashion.discount > 0"><span
              style="text-decoration: line-through;font-family: var(--tp-ff-roboto);font-size: medium;">₹{{fashion.price
              |
              number}}</span>
          </div>
          <div class="mt-2" style="display: inline; font-family: var(--tp-ff-roboto); font-size: medium;">
            ₹{{fashion.price -
            fashion.price/100 * fashion.discount | number}}</div>
        </div>
      </div>
    </div>
  </div>
</section>

<!--- end similarProduct-->
<!-- Billing Form -->
<section style="margin: 25px 25px;" *ngIf="billingFormIsOpen==true">
  <div class="card">
    <div class="card-body">
      <h5 class="card-title" style="background-color: blue; color: white; padding-left: 5px;">Billing Form</h5>
      <form class="row g-3" [formGroup]="BillingForm">

        <div class="col-12">
          <label for="inputAddress5" class="form-label">Address</label>
          <input type="text" class="form-control" placeholder="1234 Main St" formControlName="address">
        </div>
        <div class="col-12">
          <label for="inputAddress2" class="form-label">Address 2</label>
          <input type="text" class="form-control" formControlName="address2" placeholder="Apartment, studio, or floor">
        </div>
        <div class="col-md-6">
          <label for="inputCity" class="form-label">City</label>
          <input type="text" class="form-control" formControlName="city">
        </div>
        <div class="col-md-4">
          <label for="inputState" class="form-label">State</label>
          <input type="text" class="form-control" formControlName="state">
        </div>
        <div class="col-md-2">
          <label for="inputZip" class="form-label">Zip</label>
          <input type="text" class="form-control" formControlName="zip">
        </div>
        <!-- <h5 class="card-title" style="background-color: blue; color: white;">Total</h5>
        <p>
          itemPrice: {{product.price | number}}<br>
          <span *ngIf="product.deliveryCharge > 0">
          +  DeliveryCharge: {{product.deliveryCharge}}
          </span><br>
          <span>
          - Discount: {{product.discount}}%
          </span>
        </p><hr>Total: {{product.price - product.price/100 * product.discount}}  -->
        <h5 class="card-title" style="background-color: blue; color: white;">Payment</h5>
        <div class="col-12">
          <div class="col">
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="paymentMethod" value="COD"
                formControlName="paymentMethod">
              <label class="form-check-label" for="cod">COD</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="paymentMethod" value="Creditcard"
                formControlName="paymentMethod">
              <label class="form-check-label" for="Creditcard">Credit card</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="paymentMethod" value="UpiApps"
                formControlName="paymentMethod">
              <label class="form-check-label" for="UpiApps">Upi Apps</label>
            </div>
            <div class="form-check form-check-inline">
              <input class="form-check-input" type="radio" name="paymentMethod" value="NetBanking"
                formControlName="paymentMethod">
              <label class="form-check-label" for="NetBanking">Net Banking</label>
            </div>
          </div>
        </div>
        <div class="text-center">
          <button type="button" class="btn btn-primary" (click)="ConfirmOrder()">Confirm</button>
          <button type="button" class="btn btn-secondary" (click)="billingFormIsOpen = false"
            style="margin-left: 5px;">Cancel</button>
        </div>
      </form>
    </div>
  </div>
</section>